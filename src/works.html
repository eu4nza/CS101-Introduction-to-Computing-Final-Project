<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Works - Euan Chua</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/styles.css">
    <link rel="icon" href="../assets/images/favicon.svg">

    <!-- FONT & COLOR PALETTE -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#ffffff',
                        'secondary': '#9ca3af',
                        'light-bg': '#18181b',
                        'dark-text': '#ffffff',
                    },
                    fontFamily: {
                        sans: ['Geist Sans', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>
<body class="flex flex-col min-h-screen bg-black text-white">

    <!-- NAVIGATION BAR -->
    <header class="sticky top-0 z-50 bg-black/90 backdrop-blur-sm navbar-shadow transition-all duration-300 border-b border-gray-800">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 flex items-center gap-3">
                    <svg fill="currentColor" viewBox="0 0 324.41 221.04" class="h-8 w-auto text-white" width="32" height="32">
                        <path d="M3.8,117.19c19.95,18.97,46.33,26.72,73.08,29.85,28.19,3.29,57.19,1.69,84.93-4.25,27.71-5.93,55.85-16.68,78.14-34.52s35.27-43.68,30.8-71.43c-2.42-15.01-11.17-28.02-25.48-33.76-14.28-5.72-29.48-2.74-43.12,3.24-23.66,10.37-44.42,28.31-60.94,47.94-17.75,21.08-35.19,46.34-41.71,73.48s.06,56.15,22.77,73.93c26.25,20.55,60.59,20.98,92.34,18.12,34.39-3.09,68.24-10.47,100.69-22.28,6.29-2.29,10.54-8.43,8.66-15.26-1.67-6.07-8.93-10.96-15.26-8.66-24.86,9.05-50.58,15.61-76.76,19.41-24.03,3.49-51.06,6.49-74.68-.64-18.26-5.51-34.1-19.09-35.41-39.67-1.5-23.58,11.39-45.18,24.17-63.99,12.05-17.74,26.81-34.37,44.33-46.87,8.97-6.4,18.91-12.83,29.61-15.81,8.39-2.34,17.86-2.09,22.89,5.4,5.32,7.92,4.86,18.61,2.52,27.21-2.68,9.89-8.32,18.48-15.66,25.67-16.22,15.89-38.94,25.02-60.45,31.09-27.2,7.68-55.59,9.84-83.73,7.68-22.63-1.74-47.18-7.23-64.21-23.41-11.57-11-29.14,6.51-17.54,17.54h0Z" />
                    </svg>
                    <a href="index.html" class="text-xl font-medium text-white tracking-tight">Euan Chua</a>
                </div>
                
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-gray-400 hover:text-white transition duration-300">Home</a>
                    <a href="about.html" class="text-gray-400 hover:text-white transition duration-300">About</a>
                    <a href="works.html" class="text-white font-semibold border-b-2 border-white transition duration-300">Works</a>
                    <a href="experience.html" class="text-gray-400 hover:text-white transition duration-300">Experience</a>
                    <a href="contact.html" class="text-gray-400 hover:text-white transition duration-300">Contact</a>
                    <a href="testimonials.html" class="text-gray-400 hover:text-white transition duration-300">Testimonials</a>
                </div>

                <div class="md:hidden">
                    <button id="menu-button" class="text-gray-400 hover:text-white focus:outline-none p-2 transition duration-300">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <div id="mobile-menu" class="md:hidden absolute top-20 left-0 w-full bg-black border-t border-gray-800 shadow-lg z-40 transition-all duration-300 ease-in-out opacity-0 -translate-y-4 invisible">
            <div class="px-4 pt-4 pb-6 space-y-2">
                <a href="index.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-900 hover:text-white">Home</a>
                <a href="about.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-900 hover:text-white">About</a>
                <a href="works.html" class="block px-3 py-2 rounded-md text-base font-medium text-black bg-white">Works</a>
                <a href="experience.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-900 hover:text-white">Experience</a>
                <a href="contact.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-900 hover:text-white">Contact</a>
                <a href="testimonials.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-900 hover:text-white">Testimonials</a>
            </div>
        </div>
    </header>

    <main class="flex-grow py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto space-y-12">
            
            <!-- Header -->
            <div class="text-center md:text-left" data-aos="fade-up">
                <h1 class="text-3xl font-bold text-white">My Best Works</h1>
                <p class="mt-2 text-xl text-gray-400">A collection of my projects.</p>
            </div>

            <!-- Projects Grid -->
            <div id="works-container" class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
                <!-- Projects will be loaded here -->
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="bg-black border-t border-gray-800">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
            <div class="md:flex md:items-center md:justify-between">
                <div class="flex space-x-6 md:order-2">
                    <a href="https://github.com/eu4nza" class="text-gray-400 hover:text-gray-300">
                        <span class="sr-only">GitHub</span>
                        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
                        </svg>
                    </a>
                </div>
                <p class="mt-4 text-sm text-gray-400 md:mt-0 md:order-1">
                    Designed & Built by Euan Chua
                </p>
            </div>
        </div>
    </footer>

    <!-- Project Details Modal -->
    <div id="project-modal" class="fixed inset-0 z-50 hidden overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!-- Backdrop -->
            <div class="fixed inset-0 bg-black/80 backdrop-blur-sm transition-opacity duration-300 opacity-0" aria-hidden="true" onclick="closeModal()" id="modal-backdrop"></div>
            
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            
            <!-- Modal Panel -->
            <div class="inline-block align-bottom bg-zinc-900 border border-gray-800 rounded-xl text-left overflow-hidden shadow-xl transform transition-all duration-300 opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95 sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full" id="modal-panel">
                <div class="bg-zinc-900">
                    <!-- Image Container with Click-to-View -->
                    <div class="relative h-64 md:h-[400px] w-full bg-black group cursor-pointer" onclick="openImageModal(document.getElementById('modal-image').src)">
                        <img id="modal-image" src="" alt="" class="w-full h-full object-cover object-top transition duration-300 group-hover:opacity-75">
                        
                        <!-- Tip Overlay -->
                        <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none">
                            <span class="bg-black/70 text-white px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2 backdrop-blur-sm border border-white/10">
                                <i data-lucide="maximize-2" class="w-4 h-4"></i> View Full Image
                            </span>
                        </div>

                        <button type="button" class="absolute top-4 right-4 bg-black/50 rounded-full p-2 text-white hover:bg-black/80 transition z-10 border border-white/10" onclick="event.stopPropagation(); closeModal()">
                            <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <div class="px-6 py-6">
                        <div class="flex flex-col gap-4">
                            <div>
                                <h3 class="text-2xl font-bold text-white" id="modal-title">Project Title</h3>
                                <div class="flex flex-wrap gap-2 mt-2" id="modal-tags">
                                    <!-- Tags will be injected here -->
                                </div>
                            </div>
                            
                            <p class="text-gray-300 leading-relaxed" id="modal-description">
                                Project description goes here.
                            </p>

                            <div>
                                <h4 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-2">Technologies</h4>
                                <div class="flex flex-wrap gap-2" id="modal-technologies">
                                    <!-- Technologies will be injected here -->
                                </div>
                            </div>

                            <div class="flex flex-wrap gap-4 mt-4 pt-4 border-t border-gray-800" id="modal-links">
                                <!-- Links will be injected here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Full Image Modal (Lightbox) -->
    <div id="image-modal" class="fixed inset-0 z-[60] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <div class="fixed inset-0 bg-black/95 transition-opacity duration-300 opacity-0" id="image-modal-backdrop" onclick="closeImageModal()"></div>
            <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>
            <div class="inline-block align-middle bg-transparent rounded-lg overflow-hidden shadow-xl transform transition-all duration-300 opacity-0 scale-95 max-w-7xl w-full" id="image-modal-panel">
                <div class="relative">
                    <img id="full-image" src="" alt="" class="w-full h-auto max-h-[90vh] object-contain mx-auto">
                    <button type="button" class="absolute top-4 right-4 bg-black/50 rounded-full p-2 text-white hover:bg-black/80 transition border border-white/10" onclick="closeImageModal()">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="../assets/script.js"></script>
    <script src="../assets/works_data.js"></script>
    <script>
        // Modal Functions
        function openModal(index) {
            const item = worksData[index];
            document.getElementById('modal-title').textContent = item.title;
            document.getElementById('modal-description').textContent = item.description;
            
            const modalImage = document.getElementById('modal-image');
            modalImage.src = item.image;
            
            // Tags
            const tagsContainer = document.getElementById('modal-tags');
            tagsContainer.innerHTML = '';
            if (item.tags) {
                item.tags.forEach(tag => {
                    const span = document.createElement('span');
                    span.className = 'px-2.5 py-0.5 rounded-full bg-white/10 text-white/70 text-xs border border-white/10';
                    span.textContent = tag;
                    tagsContainer.appendChild(span);
                });
            }

            // Technologies
            const techContainer = document.getElementById('modal-technologies');
            techContainer.innerHTML = '';
            if (item.technologies) {
                item.technologies.forEach(tech => {
                    const span = document.createElement('span');
                    span.className = 'px-3 py-1 bg-black text-white rounded-full text-sm border border-gray-700';
                    span.textContent = tech;
                    techContainer.appendChild(span);
                });
            }

            // Links
            const linksContainer = document.getElementById('modal-links');
            linksContainer.innerHTML = '';
            
            // Website Link
            if (item.link && item.link !== '#') {
                const a = document.createElement('a');
                a.href = item.link;
                a.target = '_blank';
                a.className = 'inline-flex items-center justify-center gap-2 px-4 py-2 bg-white text-black rounded-md font-medium hover:bg-gray-200 transition-colors';
                a.innerHTML = '<i data-lucide="globe" class="w-4 h-4"></i> Visit Website';
                linksContainer.appendChild(a);
            }

            // Source Code Link
            if (item.source && item.source !== '#') {
                const a = document.createElement('a');
                a.href = item.source;
                a.target = '_blank';
                a.className = 'inline-flex items-center justify-center gap-2 px-4 py-2 bg-black text-white border border-gray-700 rounded-md font-medium hover:bg-gray-900 transition-colors';
                a.innerHTML = '<i data-lucide="github" class="w-4 h-4"></i> View Source';
                linksContainer.appendChild(a);
            }

            // Show Modal with Animation
            const modal = document.getElementById('project-modal');
            const backdrop = document.getElementById('modal-backdrop');
            const panel = document.getElementById('modal-panel');

            modal.classList.remove('hidden');
            // Force reflow
            void modal.offsetWidth;

            backdrop.classList.remove('opacity-0');
            panel.classList.remove('opacity-0', 'translate-y-4', 'sm:translate-y-0', 'sm:scale-95');
            panel.classList.add('opacity-100', 'translate-y-0', 'sm:scale-100');

            lucide.createIcons();
        }

        function closeModal() {
            const modal = document.getElementById('project-modal');
            const backdrop = document.getElementById('modal-backdrop');
            const panel = document.getElementById('modal-panel');

            backdrop.classList.add('opacity-0');
            panel.classList.remove('opacity-100', 'translate-y-0', 'sm:scale-100');
            panel.classList.add('opacity-0', 'translate-y-4', 'sm:translate-y-0', 'sm:scale-95');

            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function openImageModal(src) {
            const modal = document.getElementById('image-modal');
            const backdrop = document.getElementById('image-modal-backdrop');
            const panel = document.getElementById('image-modal-panel');
            const img = document.getElementById('full-image');

            img.src = src;
            modal.classList.remove('hidden');
            
            // Force reflow
            void modal.offsetWidth;

            backdrop.classList.remove('opacity-0');
            panel.classList.remove('opacity-0', 'scale-95');
            panel.classList.add('opacity-100', 'scale-100');
            
            lucide.createIcons();
        }

        function closeImageModal() {
            const modal = document.getElementById('image-modal');
            const backdrop = document.getElementById('image-modal-backdrop');
            const panel = document.getElementById('image-modal-panel');

            backdrop.classList.add('opacity-0');
            panel.classList.remove('opacity-100', 'scale-100');
            panel.classList.add('opacity-0', 'scale-95');

            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('works-container');
            
            if (typeof worksData !== 'undefined') {
                worksData.forEach((item, index) => {
                    const delay = (index + 1) * 100;
                    const card = document.createElement('div');
                    card.className = 'group relative overflow-hidden rounded-xl border border-gray-800 bg-black hover:border-gray-600 transition-all flex flex-col h-full cursor-pointer';
                    card.setAttribute('data-aos', 'fade-up');
                    card.setAttribute('data-aos-delay', delay);
                    card.onclick = () => openModal(index);
                    
                    // Generate tags HTML for card
                    let tagsHtml = '';
                    if (item.tags) {
                        tagsHtml = '<div class="flex flex-wrap gap-2 mt-auto pt-4">';
                        item.tags.slice(0, 3).forEach(tag => {
                            tagsHtml += `<span class="px-2.5 py-0.5 rounded-full bg-white/5 text-white/70 text-xs border border-white/10">${tag}</span>`;
                        });
                        if (item.tags.length > 3) {
                            tagsHtml += `<span class="px-2.5 py-0.5 rounded-full bg-white/5 text-white/70 text-xs border border-white/10">+${item.tags.length - 3}</span>`;
                        }
                        tagsHtml += '</div>';
                    }

                    card.innerHTML = `
                        <div class="relative w-full h-48 overflow-hidden border-b border-gray-800">
                            <img src="${item.image}" alt="${item.title}" class="w-full h-full object-cover object-top transition-transform duration-500 group-hover:scale-105">
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <h3 class="text-xl font-bold text-white mb-2">${item.title}</h3>
                            <p class="text-gray-400 mb-4 line-clamp-3">${item.description}</p>
                            ${tagsHtml}
                        </div>
                    `;
                    container.appendChild(card);
                });
                lucide.createIcons();
            }
        });
    </script>
</body>
</html>
